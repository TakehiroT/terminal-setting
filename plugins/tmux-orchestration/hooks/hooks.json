{
  "hooks": {
    "SubagentStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/hooks/subagent-monitor.sh",
            "timeout": 5
          }
        ]
      }
    ],
    "SubagentStop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/hooks/subagent-monitor.sh",
            "timeout": 5
          },
          {
            "type": "prompt",
            "prompt": "サブエージェント（Worker）が完了しました。オーケストレーターとして次のステップを確認してください:\n\n1. 全てのWorker（Frontend/Backend/Test）が完了したか確認\n2. 完了していれば、Reviewerにレビュー依頼を送信（tmux send-keysコマンド使用）\n   例: tmux send-keys -t ide:Impl.2 'tmux-reviewer skillを使って /review .branches/<feature>/ を行なってください' Enter\n3. review.mdで「承認」を確認するまでレビューサイクルを継続\n\nまだ完了していないWorkerがある場合は {\"decision\": \"approve\"} で継続。\n全Worker完了後、レビュー依頼がまだの場合は {\"decision\": \"block\", \"reason\": \"全Workerが完了しました。次はReviewerにレビューを依頼してください。\"} と応答してください。",
            "timeout": 30
          }
        ]
      }
    ]
  }
}
