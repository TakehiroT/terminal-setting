---
description: 実装計画を作成する
allowed-tools: Read, Glob, Grep, Task, TodoWrite
---

# /plan - 実装計画作成コマンド

plannerエージェントを使用して実装計画を作成します。

## 使用方法

```
/plan [機能名または要件]
```

## 実行手順

1. **要件の分析**
   - ユーザーからの要件を詳細に分析
   - 対象範囲とスコープの明確化
   - 既存コードベースとの関連性を調査

2. **タスクの分解**
   - 実装を段階的なタスクに分解
   - 各タスクの依存関係を整理
   - 優先順位の設定

3. **計画ドキュメントの作成**
   - `.spec/<feature>/task.md` に計画を記録
   - 技術的な検討事項を文書化
   - 実装アプローチの提案

4. **Todoリストの作成**
   - TodoWriteツールで実装タスクを管理
   - 各タスクの状態管理（pending/in_progress/completed）

## plannerエージェントの役割

- 要件分析とスコープ定義
- アーキテクチャ設計の提案
- タスク分解と優先順位付け
- リスクの特定と対策の提案
- 実装計画のドキュメント化

## 出力形式

計画は以下の構造で `.spec/<feature>/task.md` に保存されます：

```markdown
# [機能名] 実装計画

## 概要
[機能の概要説明]

## 要件
- [要件1]
- [要件2]

## タスク分解
1. [タスク1]
2. [タスク2]

## 技術的検討事項
- [検討事項1]
- [検討事項2]

## リスクと対策
- [リスク1]: [対策]
```

## 使用例

```bash
# 新機能の実装計画を作成
/plan ユーザー認証機能の追加

# バグ修正の計画を作成
/plan ログイン時のエラーハンドリング改善

# リファクタリング計画を作成
/plan APIレイヤーのリファクタリング
```
